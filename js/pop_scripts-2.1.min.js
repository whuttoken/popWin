function popWin(a,b){function e(a){var b=document.getElementById(a);return b&&(a+="_e",e(a)),a}var c=$(document).scrollTop(),d=$(a).html();this._popId="popWin",this._maskId="popMask",this._clsBtnId="popClsBtn",this._clsDotId="popClsDot",this._titleId="popTitle",this._ttMaskId="popTtMask",this._contentId="popContent",this._pWidth=0,this._pHeight=0,this._cPoint={x:0,y:0},this._wPoint={x:0,y:0},this._nPoint={x:0,y:0},this._isPress=!1,this._isCreate=!1,this.createPop=function(){var a,c,d,f,g,h,i;return this._isCreate?(alert("pop has exist!"),void 0):(a="min-height:"+b.minHeight+"px;max-height:auto;min-width:"+b.minWidth+"px;max-width:"+b.maxWidth+"px;background-color:"+b.bgColor+";position:absolute;top:100px;display:none;color:"+b.fontColor+";font-family:'微软雅黑', '黑体', '宋体';font-size:18px;z-index:1001;",c="background-color:"+b.maskColor+";position:absolute;left:0;top:0;display:none;z-index:1000;",d="	width:20px;height:20px;-webkit-border-radius: 40px;-moz-border-radius: 40px;-ms-border-radius: 40px;-o-border-radius: 40px;border-radius: 40px;position:absolute;right:-8px;top:-8px;background-color:"+b.bgColor+";",f="width:14px;height:14px;margin:2px;-webkit-border-radius: 28px;-moz-border-radius: 28px;-ms-border-radius: 28px;-o-border-radius: 28px;border-radius: 28px;border:1px solid #666;background-color:#666;cursor:pointer;",g="width:auto;height:40px;text-align:center;margin:10px;line-height:40px;border-bottom:"+b.titleLine+";",h="outline:none;width:100%;height:40px;text-align:center;position:absolute;top:10px;border:none;background:rgba(0,0,0,0);z-index:1002;",i="width:auto;margin:10px;font-size:14px;display:block;position:relative;overflow:hidden;",b.popShadow?(a+="box-shadow: 0 0 10px "+b.popShadowColor+";-webkit-box-shadow: 0 0 10px "+b.popShadowColor+";-moz-box-shadow: 0 0 10px "+b.popShadowColor+";",d+="box-shadow: 0 0 10px "+b.popShadowColor+";-webkit-box-shadow: 0 0 10px "+b.popShadowColor+";-moz-box-shadow: 0 0 10px "+b.popShadowColor+";"):(a+="border:1px solid "+b.popShadowColor+";",d+="border:1px solid "+b.popShadowColor+";"),b.popRadius&&(a+="-webkit-border-radius: "+b.popRadiusValue+"px;-moz-border-radius: "+b.popRadiusValue+"px;-ms-border-radius: "+b.popRadiusValue+"px;-o-border-radius: "+b.popRadiusValue+"px;border-radius: "+b.popRadiusValue+"px;"),b.enableMove&&(h+="cursor:move;"),$("<div />",{id:this._popId=e(this._popId),style:a}).appendTo("body"),$("<div />",{id:this._maskId=e(this._maskId),style:c}).appendTo("body"),$("<div />",{id:this._clsBtnId=e(this._clsBtnId),style:d}).appendTo("#"+this._popId),$("<div />",{id:this._clsDotId=e(this._clsDotId),style:f}).appendTo("#"+this._clsBtnId),$("<div />",{id:this._titleId=e(this._titleId),style:g,html:"Title"}).appendTo("#"+this._popId),$("<input />",{id:this._ttMaskId=e(this._ttMaskId),type:"button",style:h}).appendTo("#"+this._popId),$("<div />",{id:this._contentId=e(this._contentId),style:i,html:"Contents"}).appendTo("#"+this._popId),this._pWidth=$("#"+this._popId).width(),this._pHeight=$("#"+this._popId).height(),this._isCreate=!0,void 0)},this.setPop=function(){dWidth=$(document).width(),wWidth=$(window).width(),dHeight=$(document).height(),$("#"+this._maskId).css({height:dHeight+"px",width:dWidth+"px"}),$("#"+this._popId).css({left:(wWidth-this._pWidth)/2+"px",top:c+150+"px"}),$("#"+this._titleId).css("width",this._pWidth-20+"px")},this.fillPop=function(){$("#"+this._titleId).html($(a).children().eq(0).html()),$("#"+this._contentId).html($(a).children().eq(1).html()),$(a).children().detach(),this._pWidth=$("#"+this._popId).width(),this._pHeight=$("#"+this._popId).height()},this.openPop=function(){this.fillPop(),this.setPop(),$("#"+this._popId).fadeIn(),$("#"+this._maskId).fadeIn()},this.destroyPop=function(){$("#"+this._popId).detach(),$("#"+this._maskId).detach(),$(a).html(d),this._isCreate=!1},this.closePop=function(){$("#"+this._popId).fadeOut();var a=this;$("#"+this._maskId).fadeOut("fast",function(){a.destroyPop()})},this.movePop=function(){var a=this;$("#"+this._ttMaskId).bind("mousedown",function(b){var c,d;a._isPress=!0,c={x:parseInt(b.pageX),y:parseInt(b.pageY)},d={x:parseInt($("#"+a._popId).css("left")),y:parseInt($("#"+a._popId).css("top"))},$(document).mousemove(function(b){if(a._isPress){var e={x:parseInt(b.pageX),y:parseInt(b.pageY)};new_x=d.x+e.x-c.x,new_y=d.y+e.y-c.y,15>new_x&&(new_x=15,$("#"+a._popId).css("left",new_x+"px")),15>new_y&&(new_y=15,$("#"+a._popId).css("top",new_y+"px")),dWidth-new_x-a._pWidth<15&&(new_x=dWidth-a._pWidth-15,$("#"+a._popId).css("left",new_x+"px")),dHeight-new_y-a._pHeight<15&&(new_y=dHeight-a._pHeight-15,$("#"+a._popId).css("top",new_y+"px")),$("#"+a._popId).css({left:new_x+"px",top:new_y+"px"})}})}),$(document).bind("mouseup",function(){a._isPress=0})},this.initPop=function(){this.createPop(),this.openPop();var a=this;$("#"+this._clsDotId).click(function(){a.closePop()}),b.enableMaskClick&&$("#"+this._maskId).click(function(){a.closePop()}),b.enableMove&&this.movePop(),$(window).bind("resize",function(){a.setPop()})}}$.fn.popWin=function(a){$(this).children("div").hide(),$(this).click(function(){dft={minWidth:200,maxWidth:600,minHeight:200,bgColor:"#fefefe",maskColor:"rgba(255,255,255,0.5)",fontColor:"#000",popShadow:!1,popShadowColor:"#ccc",popRadius:!1,popRadiusValue:5,titleLine:"1px dotted #ccc",enableMaskClick:!0,enableMove:!1},void 0!==a&&(void 0!==a.minWidth&&(dft.minWidth=a.minWidth),void 0!==a.maxWidth&&(dft.maxWidth=a.maxWidth),void 0!==a.minHeight&&(dft.minHeight=a.minHeight),void 0!==a.bgColor&&(dft.bgColor=a.bgColor),void 0!==a.maskColor&&(dft.maskColor=a.maskColor),void 0!==a.fontColor&&(dft.fontColor=a.fontColor),void 0!==a.popShadow&&(dft.popShadow=a.popShadow),void 0!==a.popShadowColor&&(dft.popShadowColor=a.popShadowColor),void 0!==a.popRadius&&(dft.popRadius=a.popRadius),void 0!==a.popRadiusValue&&(dft.popRadiusValue=a.popRadiusValue),void 0!==a.titleLine&&(dft.titleLine=a.titleLine),void 0!==a.enableMaskClick&&(dft.enableMaskClick=a.enableMaskClick),void 0!==a.enableMove&&(dft.enableMove=a.enableMove));var b=new popWin(this,dft);b.initPop(),initPopJs(b)})};